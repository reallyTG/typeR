## ---- results='hide', echo=FALSE, message=FALSE-----------------------------------------------------------------------
library(crunch)
load("vignettes.RData")
options(width=120)

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  dems <- ds[ds$pid3 == "Democrat",]
#  dems

## ---- echo=FALSE------------------------------------------------------------------------------------------------------
cat(printdems, sep="\n")

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  round(crtabs(mean(track) ~ educ + gender, data=dems), 2)

## ---- echo=FALSE------------------------------------------------------------------------------------------------------
round(tab8, 2)

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  table(dems$educ)

## ---- echo=FALSE------------------------------------------------------------------------------------------------------
print(educ.dem.table)

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  table(ds$educ[ds$pid3 == "Democrat",])

## ---- echo=FALSE------------------------------------------------------------------------------------------------------
print(educ.dem.table)

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  identical(subset(ds, ds$pid3 == "Democrat"), dems)

## ---- echo=FALSE------------------------------------------------------------------------------------------------------
identical(dems2, dems)

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  filters(ds)

## ---- echo=FALSE------------------------------------------------------------------------------------------------------
print(empty.filter.catalog)

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  filters(ds)[["Young males"]] <- ds$gender == "Male" & ds$age < 30
#  filters(ds)[["Young males"]]

## ---- echo=FALSE------------------------------------------------------------------------------------------------------
cat(print.young.males1, sep="\n")

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  filters(ds)

## ---- echo=FALSE------------------------------------------------------------------------------------------------------
print(filter.catalog.2)

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  f <- newFilter("Young males", ds$gender == "Male" & ds$age < 30)

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  is.public(filters(ds)[["Young males"]]) <- TRUE
#  filters(ds)

## ---- echo=FALSE------------------------------------------------------------------------------------------------------
print(filter.catalog.3)

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  filters(ds)[["Young males"]] <- ds$gender == "Male" & ds$age < 35
#  filters(ds)[["Young males"]]

## ---- echo=FALSE------------------------------------------------------------------------------------------------------
cat(print.young.males2, sep="\n")

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  dim(ds)

## ---- echo=FALSE------------------------------------------------------------------------------------------------------
print(dim.ds.filters)

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  exclusion(ds) <- ds$perc_skipped > 15
#  exclusion(ds)

## ---- echo=FALSE------------------------------------------------------------------------------------------------------
cat(high_perc_skipped, sep="\n")

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  dim(ds)

## ---- echo=FALSE------------------------------------------------------------------------------------------------------
print(dim.ds.excluded)

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  exclusion(ds) <- NULL
#  dim(ds)

## ---- echo=FALSE------------------------------------------------------------------------------------------------------
print(dim.ds.filters)

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  ## Not run
#  ds <- dropRows(ds, ds$perc_skipped > 15)

