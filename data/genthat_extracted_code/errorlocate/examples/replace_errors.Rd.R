library(errorlocate)


### Name: replace_errors
### Title: Replace erroneous fields with NA or a suggested value
### Aliases: replace_errors replace_errors,data.frame,validator-method
###   replace_errors,data.frame,ErrorLocalizer-method
###   replace_errors,data.frame,errorlocation-method

### ** Examples

library(magrittr)

rules <- validator( profit + cost == turnover
              , cost - 0.6*turnover >= 0
              , cost>= 0
              , turnover >= 0
)
data <- data.frame(profit=755, cost=125, turnover=200)

data_no_error <-
  data %>%
  replace_errors(rules)

# faulty data was replaced with NA
data_no_error

errors_removed(data_no_error)

# a bit more control
error_locations <- locate_errors(data, rules)
data %>%
  replace_errors(error_locations)



